@using Sandbox;
@using Sandbox.UI;
@using Sandbox.UI.Construct;

<root>
	<panel class="iconcontainer">
		<IconPanel style="height: @(100 - (Game.LocalPawn as HLPlayer).Armour)" class="iconempty"></IconPanel>
		<IconPanel style="height: @((Game.LocalPawn as HLPlayer).Armour)" class="iconfull"></IconPanel>
	</panel>
    
	@((Game.LocalPawn as HLPlayer).Armour.CeilToInt())
</root>

@code
{ 
	public override void Tick()
	{ 
		SetClass("invisible", !(Game.LocalPawn as HLPlayer).HasHEV || (Game.LocalPawn as HLPlayer).Health <= 0);
	}
	protected override int BuildHash()
	{
		return HashCode.Combine( ( Game.LocalPawn as HLPlayer ).Armour );
	}
}